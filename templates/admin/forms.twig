{% macro form_group(type, name, value, label, placeholder, class, hint, options) %}
    {% import _self as forms %}
    {% if type == 'checkbox' %}
        {{ forms.checkbox(name, value, label, class, hint) }}
    {% else %}
        <div class="form-group">
            <label for="input_{{ name }}">{{ label }}</label>
            {% if type == 'textarea' %}
                {{ forms.textarea(name, value, placeholder, class, hint) }}
            {% elseif type == 'json' %}
                {{ forms.json(name, value, placeholder, class, hint) }}
            {% elseif type == 'select' %}
                {{ forms.select(name, value, options, placeholder, class, hint) }}
            {% elseif type == 'multiselect' %}
                {{ forms.multiselect(name, value, options, placeholder, class, hint) }}
            {% else %}
                {{ forms.input(type, name, value, placeholder, class, hint) }}
            {% endif %}
            {% if hint %}<small id="hint_{{ name }}" class="form-text text-muted">{{ hint }}</small>{% endif %}
        </div>
    {% endif %}
{% endmacro %}

{% macro textarea(name, value, placeholder, class, hint) %}
    <textarea class="form-control {{ class }}" name="{{ name }}" id="input_{{ name }}" {% if hint %}aria-describedby="hint_{{ name }}"{% endif %} placeholder="{{ placeholder }}">{{ value }}</textarea>
{% endmacro %}

{% macro json(name, value, placeholder, class, hint) %}
    <textarea name="{{ name }}" class="d-none" placeholder="{{ placeholder }}" id="input_{{ name }}" {% if hint %}aria-describedby="hint_{{ name }}"{% endif %}>{{ value }}</textarea>
    <div id="json-editor" class="form-control {{ class }}" {% if hint %}aria-describedby="hint_{{ name }}"{% endif %} style="height: 410px;">{{ value }}</div>
{% endmacro %}

{% macro select(name, value, options, placeholder, class, hint) %}
    <select class="form-control {{ class }}" id="input_{{ name }}" name="{{ name }}" {% if hint %}aria-describedby="hint_{{ name }}"{% endif %}>
        {% for elem in options %}
            <option value="{{ elem.value }}"{% if elem.selected %} selected{% endif %}>{{ elem.label }}</option>
        {% endfor %}
    </select>
{% endmacro %}

{% macro multiselect(name, value, options, placeholder, class, hint) %}
    <select class="form-control {{ class }}" id="input_{{ name }}" name="{{ name }}" {% if hint %}aria-describedby="hint_{{ name }}"{% endif %} multiple="multiple">
        {% for elem in options %}
            <option value="{{ elem.value }}"{% if elem.selected %} selected{% endif %}>{{ elem.label }}</option>
        {% endfor %}
    </select>
{% endmacro %}

{% macro checkbox(name, value, label, class, hint) %}
    <div class="form-check {{ class }}">
        <input class="form-check-input" type="checkbox" name="{{ name }}" id="input_{{ name }}" {% if value %}checked{% endif %}>
        <label class="form-check-label" for="input_{{ name }}">{{ label }}</label>
    </div>
    {% if hint %}<small id="hint_{{ name }}" class="form-text text-muted">{{ hint }}</small>{% endif %}
    <div class="mt-3"></div>
{% endmacro %}

{% macro input(type, name, value, placeholder, class, hint) %}
    <input type="{{ type }}" name="{{ name }}" class="form-control {{ class }}" id="input_{{ name }}" {% if hint %}aria-describedby="hint_{{ name }}"{% endif %} value="{{ value }}" placeholder="{{ placeholder }}">
{% endmacro %}