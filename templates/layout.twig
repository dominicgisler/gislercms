{% set meta_img = page.getMetaImage() %}
{% if meta_img and (not (meta_img starts with 'http://') and not (meta_img starts with 'https://')) %}
    {% set meta_img = base_url() ~ '/uploads/' ~ meta_img %}
{% endif %}
<!DOCTYPE html>
<html lang="{{ page.getLanguage().getLocale() }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>{{ page.getTitle() }}</title>

        <meta itemprop="name" content="{{ page.getTitle() }}">
        <meta itemprop="description" content="{{ page.getMetaDescription() }}">
        <meta itemprop="image" content="{{ page.getMetaImage() }}">

        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@publisher_handle">
        <meta name="twitter:title" content="{{ page.getTitle() }}">
        <meta name="twitter:description" content="{{ page.getMetaDescription() }}">
        <meta name="twitter:creator" content="@author_handle">
        <meta name="twitter:image:src" content="{{ meta_img }}">

        <meta property="og:url" content="{{ base_url() }}/{{ page.getLanguage().getLocale() }}/{{ page.getName() }}">
        <meta property="og:type" content="website">
        <meta property="og:title" content="{{ page.getTitle() }}">
        <meta property="og:description" content="{{ page.getMetaDescription() }}">
        <meta property="og:image" content="{{ meta_img }}">

        <meta name="author" content="{{ page.getMetaAuthor() }}">
        <meta name="publisher" content="Gisler Software">
        <meta name="keywords" content="{{ page.getMetaKeywords() }}">
        <meta name="description" content="{{ page.getMetaDescription() }}">
        <meta name="date" content="{{ page.getUpdatedAt()|date('Y-m-d') }}T{{ page.getUpdatedAt()|date('H:i:s') }}+02:00">
        <meta name="robots" content="index,follow">
        <meta name="copyright" content="{{ page.getMetaCopyright() }}">
        <meta name="language" content="{{ page.getLanguage().getLocale() }}">

        <link rel="canonical" href="{{ base_url() }}/{{ page.getLanguage().getLocale() }}/{{ page.getName() }}">

        <link href="{{ base_url() }}/css/style.min.css" rel="stylesheet">
    </head>
    <body>
        <div class="container mt-4">
            <div class="border rounded bg-light text-center p-4 display-4">
                <a href="{{ base_url() }}">GislerCMS</a>
            </div>
            <nav class="mt-2 border rounded bg-light">
                {% set widget = widget.getWidget('navigation') %}
                {{ widget_translation.getWidgetTranslation(widget, page.getLanguage()).getContent()|raw }}
            </nav>
            <main role="main" class="mt-2 border rounded bg-light p-4">
                {{ page.getContent()|raw }}
            </main>
            <footer class="mt-2 border rounded bg-light p-4 text-center">
                Copyright &copy; {{ 'now'|date('Y') }} by Gisler Software
            </footer>
        </div>
        <script src="{{ base_url() }}/js/jquery.min.js"></script>
        <script src="{{ base_url() }}/js/bootstrap.min.js"></script>
    </body>
</html>
